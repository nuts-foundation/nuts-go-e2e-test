version: "3.7"
services:
  nodeA:
    image: &image nutsfoundation/nuts-node:master
    environment:
      NUTS_CONFIGFILE: /opt/nuts/nuts.yaml
    ports:
      - "11323:1323"
    volumes:
      - "./node-A/nuts.yaml:/opt/nuts/nuts.yaml:ro"
    healthcheck:
      interval: 1s # Make test run quicker by checking health status more often
  nodeB:
    image: *image
    environment:
      NUTS_CONFIGFILE: /opt/nuts/nuts.yaml
    ports:
      - "21323:1323"
    volumes:
      - "./node-B/nuts.yaml:/opt/nuts/nuts.yaml:ro"
    healthcheck:
      interval: 1s # Make test run quicker by checking health status more often
  nodeC:
    image: *image
    environment:
      NUTS_CONFIGFILE: /opt/nuts/nuts.yaml
    ports:
      - "31323:1323"
    volumes:
      - "./node-C/nuts.yaml:/opt/nuts/nuts.yaml:ro"
    healthcheck:
      interval: 1s # Make test run quicker by checking health status more often
  nodeD:
    image: *image
    environment:
      NUTS_CONFIGFILE: /opt/nuts/nuts.yaml
    ports:
      - "41323:1323"
    volumes:
      - "./node-D/nuts.yaml:/opt/nuts/nuts.yaml:ro"
    healthcheck:
      interval: 1s # Make test run quicker by checking health status more often
